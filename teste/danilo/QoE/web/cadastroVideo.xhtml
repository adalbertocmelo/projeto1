<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      >
    <script type='text/javascript' src='http://www.google.com/jsapi'></script>

    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <h:form id="form">  
            <p:panel header="Video registration" toggleable="true" id="panel">  
                <h:panelGrid columns="2" cellpadding="5">

                    <h:outputLabel value="id :" for="id" />  
                    <!-- <p:autoComplete id="id"  value="{autoCompleteBean.txt6}"   
                            completeMethod="{autoCompleteBean.complete}" />-->

                    <h:outputLabel value="Name :" for="name" />  
                    <p:inputText id="name" value="#{videosBean.video.nome}" effect="fade" />     

                    <h:outputLabel value="Gop :" for="gop" />  
                    <p:inputText id="gop" value="#{videosBean.video.gop}" effect="fade"/>  

                    <h:outputLabel value="Fps :" for="fps" />  
                    <p:inputText id="fps" value="#{videosBean.video.fps}" effect="blind"/>  

                    <h:outputLabel value="Cgop :" for="cgop" />  
                    <p:inputText id="cgop"  value="#{videosBean.video.cgop}"  />  

                    <h:outputLabel value="Sameq :" for="sameq" />  
                    <p:inputText   id="sameq" value="#{videosBean.video.sameq}"/>

                    <h:outputLabel value="Video Type :" for="video_type" />  
                    <p:selectOneMenu value="#{videosBean.video.videoType}">  
                        <f:selectItem itemLabel="Select One" itemValue="" />  
                        <f:selectItem itemLabel="Futebol" itemValue="1" />  
                        <f:selectItem itemLabel="Jornal" itemValue="2" />  
                        <f:selectItem itemLabel="Clipe" itemValue="3" />  
                    </p:selectOneMenu> 

                    <h:outputLabel value="Chose a video to upload:" for="upload" />  
                    <p:commandButton value="Submit" id="submit"  
                                     action="#{videosBean.addVideo}"/> 

                </h:panelGrid>
            </p:panel>
            <p:panel>

                <script type="text/javascript" src="https://www.google.com/jsapi"></script>
                <script type="text/javascript">
                    google.load("visualization", "1", {packages:["corechart"]});
                    google.setOnLoadCallback(drawChart);
                    
                    function drawChart(e) {
                        
                        var data = google.visualization.arrayToDataTable([
                            ['Congest',     ' ',         'mec2',         'mec1',         'mec4',         'mec5',         'mec6',         'IEEE',         'dropQoEOnt'],
                            [' ',           45, ,, , , , , ,              ],
                            ['10',           49,             49,             49,             49,             49,             49,             49,             49          ],
                            
                            ['20',           46.81879,       46.50843,       47.00457,       47.66943,       46.86161,       45.92428,       46.06181,       47.66943    ],
                            ['30',           46.19535,       45.82653,       47.15847,       46.60496,       47.97442,       45.74588,       46.66936,       47.97442    ],
                            ['40',           47.31813,       45.6513,        47.0718,        46.58449,       45.86174,       45.8813,        46.45037,       47.0718	],
                            //['0 ',           50 , ,, , , , , ,              ],
                        ]);

                        var options = {
                            //title: 'Average',
                            vAxis: {title: 'PSNR (dB)', titleTextStyle: {color:'blue'}, textPosition: 'in'},
                            hAxis: {title: 'Congest (%)', titleTextStyle: {color:'blue'}, textPosition: 'in'},
                            legend: {position: 'top', alignment: 'end'},
                            pointSize:4,
                            colors: ['white','yellow','gray','purple','black','green','pink','blue'],
                            //series: {   0:{color: 'black', visibleInLegend: true},
                            //            1:{color: 'red', visibleInLegend: true},
                            //            2:{color: 'blue', visibleInLegend: true}},
                            //            3:{color: 'yellow', visibleInLegend: true},
                            //            4:{color: 'gray', visibleInLegend: true},
                            //            5:{color: 'purple', visibleInLegend: true},
                            //           6:{color: 'black', visibleInLegend: true},
                            //            7:{color: 'green', visibleInLegend: true}
                        };

                        // Every time the table fires the "select" event, it should call your
                        // function.
                        
                        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
                        chart.draw(data, options);
                        
                        google.visualization.events.addListener(chart, 'select', drawChart2);


                    }
                    function drawChart2(){
                        var selection = visualization.getSelection();

                        alert('You selected congest number :' + selection.row)
                    }
                      
                      
                    
                    

                    
                </script>

                <body>
                    <div id="chart_div" style="width: 1000px; height: 500px;"></div>
                </body>

            </p:panel>

        </h:form>  
    </h:body>
</html>
